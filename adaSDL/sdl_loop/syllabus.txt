ğŸ® Project Syllabus â€” Subterranean â€™84 (Ada Edition)

Minimal thrust-based cave exploration
Synthwave aesthetic
Strict ECS in Ada + SDL

Phase 0 â€” Runtime Skeleton
Goal : Create a working SDL application loop with clean Ada package boundaries.

Skills Learned :
- Ada package structure
- SDL initialization / shutdown
- Event polling
- Fixed timestep loop
- Basic records
- Procedure design
- in vs in out
- Application orchestration
- Separating platform from logic

Files Affected

Existing:
- main.adb
- application.ads
- application.adb
- sdl_loop.adb
- transform.ads
- transform.adb
- velocity.ads
- velocity.adb

What to Add
Nothing new yet.
Just clean:
- Transform record
- Velocity record
- Update loop

Tool Box (Must Know Before Phase 1) :
âœ… Ada records
âœ… Ada procedures
âœ… Parameter modes
âœ… Package spec vs body
âœ… SDL event loop
âœ… How dt is calculated
âœ… How Transform + Velocity interact

Phase 1 â€” Movement Isolation
Goal : Separate movement logic from data.

Skills Learned :
- Package responsibility separation
- Deterministic update ordering
- Mutating records via procedures
- Eliminating logic from components
- Simulation pipeline thinking

Files Affected

New:
- movement.ads
- movement.adb

Modified:
- application.adb

What to Add
- Create Movement package:
- Procedure Move(Transform, Velocity, DT)

Application calls:
- Input
- Movement
- Render

Transform no longer moves itself.

Tool Box :
âœ… Procedures modifying records
âœ… Explicit call ordering
âœ… No SDL inside movement
âœ… No logic inside Transform or Velocity

Phase 2 â€” Component Expansion
Goal : Add remaining component records.

Skills Learned :
- Record composition
- Component responsibility
- Data-only design
- Preparing ECS without building ECS
- Files Affected

New:
- renderable.ads
- collider.ads
- gravity.ads

Existing:
- application.adb

What to Add
Add records:
- Renderable (width, height, color)
- Collider (width, height)
- Gravity (strength)

Still no ECS.
Manual wiring.

Tool Box :
âœ… Ada records
âœ… Default initialization
âœ… Passing multiple records through procedures

Phase 3 â€” Entity Layer Introduction
Goal : Replace â€œsingle player variablesâ€ with entity IDs.

Skills Learned :
- Entity abstraction
- ID-based ownership
- Container usage
- Map-based component storage
- Explicit access patterns

Files Affected

New:
- ecs/entity.ads
- ecs/entity_manager.ads
- ecs/entity_manager.adb

Modified:
- application.adb
- What to Add

EntityManager:
- CreateEntity
- AddTransform
- AddVelocity
- HasX / GetX
- Single entity only at first.

Tool Box :
âœ… Ada containers
âœ… Hash maps
âœ… ID-based lookup
âœ… Removing globals

Phase 4 â€” Systems Layer
Goal : Convert procedural calls into ECS systems.

Skills Learned
- System isolation
- Data flow architecture
- Read/write discipline
- ECS execution order

Files Affected

New:
- systems/input.ads
- systems/input.adb
- systems/movement.ads
- systems/movement.adb
- systems/render.ads
- systems/render.adb

Modified:
- application.adb

What to Add

Each system:
- Takes EntityManager
- Mutates components
- Application orchestrates.

Tool Box :
âœ… ECS fundamentals
âœ… No SDL outside render
âœ… Input modifies velocity
âœ… Movement modifies transform

Phase 5 â€” Tile Map
Goal : Introduce world geometry.

Skills Learned
- Tile grids
- World â†’ tile math
- Camera offset rendering
- Data-driven maps

Files Affected

New:
- systems/map.ads
- systems/map.adb
- core/camera.ads

Modified:
- application.adb

What to Add

Map:
- IsSolidAt
- IsLandingAt
- FindPlayerStart
- Render

Camera:
- follows player

Tool Box :
âœ… Spatial indexing
âœ… Coordinate transforms
âœ… Tile systems

Phase 6 â€” Collision
Goal : Introduce gameplay rules.

Skills Learned
- Collision detection
- Component removal
- Reset logic
- State transitions

Files Affected

New:
- systems/collision.ads
- systems/collision.adb

What to Add

CollisionSystem:
- wall crash
- landing logic
- gravity removal
- velocity reset

Tool Box :
âœ… System ordering
âœ… Gameplay rule encoding

Phase 7 â€” Environmental Physics
Goal : Add gravity modifiers and landing pads.

Skills Learned
- Environment-driven components
- Runtime physics tuning
- Emergent behavior

Files Affected

Modified:
- map.adb
- collision.adb
- application.adb

What to Add
- water gravity inversion
- variable gravity strength

Tool Box :
âœ… Component toggling
âœ… Environmental modifiers

Phase 8 â€” Visual Upgrade
Goal : Replace rectangles with synthwave visuals.

Skills Learned
- Render layering
- Effect passes
- Visual abstraction

Files Affected

Modified:
- render.adb

What to Add
- ship triangle
- neon grid
- glow
- scanlines

Tool Box :
âœ… Render pipelines
âœ… Effect isolation

Architectural Laws (Always)
- Components = dumb records
- Systems mutate
- Application orchestrates
- Input â†’ Velocity
- Movement â†’ Transform
- Render owns SDL
